{%  extends 'base.html' %}

{% block title %} Watching Videos {% endblock title %}
{% comment %} {% block videoactive %} active {% endblock videoactive %} {% endcomment %}

{% comment %} CSS start from here {% endcomment %}

{% block css %}
<link href="/static/css/playvideo.css" rel="stylesheet">
<style>
    code[class*="language-"],
    pre[class*="language-"] {
        max-height: 614px;
    }

    .commentContainer {
        overflow-x: auto;
    }
</style>
<style>
    .content-holder {
        list-style: none;
        padding: 0;
    }


    .content-holder a {
        color: black;
        text-decoration: none;
    }

    .content-holder li:hover {
        background-color: rgb(239, 239, 240)
    }

    .content-holder-item {
        padding: 23px 12px;
        font-size: 16px;
    }

    li.active {
        background-color: rgb(214, 214, 214);
    }

    .bg-black {
        background-color: black;
    }

    #video-box {
        /* overflow-y: scroll; */
    }

    #content-box {
        max-height: 85vh;
        overflow-y: scroll;

    }

    #course-content-box {
        align-self: flex-start;
        height: 20px;
        position: sticky;
        top: 0;
    }

    .bg-lgrey {
        background-color: rgb(231, 231, 233);
    }
</style>

<style>
    .tab-pane {
        min-height: 344px;
    }

    .nav-link {
        font-weight: bold;
        color: black
    }
</style>

<style>
    .commentReplies {
        background-color: rgb(231, 231, 233);
        margin: 18px 3px;
    }

    .commentReplies img {
        margin: 8px 14px;
    }
</style>
<style>
    #toggleCourse {
        display: none;
    }

    .openCourseHeight {
        height: 76vh !important;
    }

    @media only screen and (max-width: 400px) {
        .nav-link {
            font-size: 16px;
            padding: 9px 6px;
        }

        #course-content-box {
            height: 57px;
        }
    }

    @media only screen and (max-width: 560px) {
        img.rounded-circle{
            height: 0px;
            visibility: hidden;
        }
    }

    @media only screen and (max-width: 768px) {
        #course-content-box {
            height: 46px;
            transition: height 0.4s;
            position: static;
        }

        #content-box {
            height: 70vh;
            visibility: hidden;
        }

        #toggle-button {
            visibility: visible;
        }

        #video-box { 
            z-index: 1;
        }

        #sticky-d{
            position: sticky;
            top: 0;
            z-index: 1;
        }

        #toggleCourse {
            display: inline;
        }
        .other{ 
    margin-left: -15px;
    margin-right: -15px; 
        }
    }
</style> 
<style>
#video-box2 {
    font-size: 14pt;
    font-family: helvetica;  
}
#video-box2 img {
    cursor: pointer;
}

#video-box2 pre code{
    font-size: 16px; 
}

.commentContainer pre{
    font-size: 14pt; 
   font-family: helvetica;

}
#video-box2 h6, h5, h4, h2, h3, h1{
    font-family:"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
}
.tab-pane{
    min-height: 100vh;
}
div.toolbar-item button{
    color: white !important;
    border: 2px solid white !important;
    margin-right: 23px;
}
@media screen and (max-width: 768px) {
    div.toolbar-item button{
        margin-right: 0px;
    }
}

#previewModal .modal-dialog{
    max-width: 80%; 
}

</style>


{% endblock css %}

{% block body %}
<div class="container-fluid">

    <div class="row" id="sticky-d">
        <!-- Video Holder -->
        <div class="col-md-9 bg-black px-0" id="video-box">
            <div class="container videoContainer embed-responsive embed-responsive-16by9 px-3">
                <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/Wh_G8KrV6dU"
                    allowfullscreen></iframe>
            </div>
            <hr>
        </div>

        <!-- Course content holder -->
        <div class="col-md-3 px-0" id="course-content-box">
            <div class="row mx-0 py-2 px-3 bg-lgrey">
                <h5> Course Content<i class="mx-2 fas fa-plus" id="toggleCourse"></i></h5>
                <button id="togglePlayer" class="btn btn-sm btn-danger mx-3">Hide Player</button>
            </div>
            <div id="content-box">
                <ul class="content-holder">
                    
                    <a href="/videos/general-python-errors-1">
                        <li class="content-holder-item  active
                                                ">
                            1. [Solved] The term &#x27;pip&#x27; is not recognized as the name of a cmdlet, function, or operable program
                            <div class="mx-3">
                                <i class="far fa-play-circle"></i> Free YouTube Video
                            </div>
                        </li>
                    </a>
                    
                    <a href="/videos/general-python-errors-2">
                        <li class="content-holder-item  ">
                            2. No python interpreter configured for the project&#x27; in Pycharm
                            <div class="mx-3">
                                <i class="far fa-play-circle"></i> Free YouTube Video
                            </div>
                        </li>
                    </a>
                    

                </ul>
            </div>
        </div> 
        <hr>
    </div>

    <div class="col-md-9 bg-black px-0" id="video-box2">
        <div class="other bg-light">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="overview-tab" data-toggle="tab" href="#overview" role="tab"
                        aria-controls="overview" aria-selected="true">Overview</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="qna-tab" data-toggle="tab" href="#qna" role="tab" aria-controls="qna"
                        aria-selected="false">Q&A</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="resources-tab" data-toggle="tab" href="#resources" role="tab"
                        aria-controls="resources" aria-selected="false">Files</a>
                </li>
                <!-- <li class="nav-item" role="presentation">
                    <a class="nav-link" id="announcements-tab" data-toggle="tab" href="#announcements" role="tab"
                        aria-controls="announcements" aria-selected="false">Announcements</a>
                </li> -->
            </ul>
            
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show mx-4 mt-3 active" id="overview" role="tabpanel"
                    aria-labelledby="overview-tab">
    
                    <div class="container clearfix py-2 px-0">
                        <h3 class="mb-3">
    
                            [Solved] The term &#x27;pip&#x27; is not recognized as the name of a cmdlet, function, or operable program
                        </h3>
                        </p>


                        There is no source code associated with this video. If you need some specific code/video not available on this website, you can go to the discussions tab and ask for it :)
                        <div class="my-4 d-flex justify-content-between">
                            
                            <a class="btn btn-danger" href="#">&larr; Previous </a>
                            
    
                            
                            <a class="btn btn-danger" href="/videos/general-python-errors-2">Next &rarr;</a>
                            
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade mx-4 mt-3" id="qna" role="tabpanel" aria-labelledby="qna-tab">
                    <div id="comments" class="container px-0">
                        
    
                        <div class="my-4">
                            <h2><label for="inputAddress">You must be logged in to post a comment!</label></h2>
                            <button type="submit" class="btn btn-danger my-2 my-sm-0 ml-2" data-toggle="modal"
                                data-target="#loginModal">Login Here</button>
                            <button type="submit" class="btn btn-danger my-2 my-sm-0 ml-2" data-toggle="modal"
                                data-target="#signupModal">Signup Here</button>
                        </div>
    
                        
    
                        
                    </div>
    
                    <div class="container mt-4 mb-0 px-0">
                        <h3>Comments(1)</h3>
    
                        
                        
                        <div class="row mt-4">
                            <div class="col-sm-3 col-lg-1 col-xl-1">
                                <img class="w-100 d-block mx-auto rounded-circle"
                                    src="/static/image/users.png">
                            </div>
                            <div class="col-md-8 col-lg-10 col-xl-10 commentContainer">
                                <div class="my-2 mx-2">
                                    <b>Tanmay06</b> <span class="badge badge-secondary">4 months, 3 weeks
                                        ago</span><br>
                                    <pre>What to do Harry bhai 

ERROR: Command errored out with exit status 1:
     command: &#x27;c:\program files\python38-32\python.exe&#x27; -c &#x27;import sys, setuptools, tokenize; sys.argv[0] = &#x27;&quot;&#x27;&quot;&#x27;C:\\Users\\Tanmay Daga\\AppData\\Local\\Temp\\pip-install-m5t3g9ui\\pyobjc-framework-FSEvents\\setup.py&#x27;&quot;&#x27;&quot;&#x27;; __file__=&#x27;&quot;&#x27;&quot;&#x27;C:\\Users\\Tanmay Daga\\AppData\\Local\\Temp\\pip-install-m5t3g9ui\\pyobjc-framework-FSEvents\\setup.py&#x27;&quot;&#x27;&quot;&#x27;;f=getattr(tokenize, &#x27;&quot;&#x27;&quot;&#x27;open&#x27;&quot;&#x27;&quot;&#x27;, open)(__file__);code=f.read().replace(&#x27;&quot;&#x27;&quot;&#x27;\r\n&#x27;&quot;&#x27;&quot;&#x27;, &#x27;&quot;&#x27;&quot;&#x27;\n&#x27;&quot;&#x27;&quot;&#x27;);f.close();exec(compile(code, __file__, &#x27;&quot;&#x27;&quot;&#x27;exec&#x27;&quot;&#x27;&quot;&#x27;))&#x27; egg_info --egg-base &#x27;C:\Users\Tanmay Daga\AppData\Local\Temp\pip-install-m5t3g9ui\pyobjc-framework-FSEvents\pip-egg-info&#x27;
         cwd: C:\Users\Tanmay Daga\AppData\Local\Temp\pip-install-m5t3g9ui\pyobjc-framework-FSEvents\
    Complete output (15 lines):
    Traceback (most recent call last):
      File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
      File &quot;C:\Users\Tanmay Daga\AppData\Local\Temp\pip-install-m5t3g9ui\pyobjc-framework-FSEvents\setup.py&quot;, line 20, in &lt;module&gt;
        ext_modules=[Extension(&quot;FSEvents._callbacks&quot;, [&quot;Modules/_callbacks.m&quot;])],
      File &quot;C:\Users\Tanmay Daga\AppData\Local\Temp\pip-install-m5t3g9ui\pyobjc-framework-FSEvents\pyobjc_setup.py&quot;, line 408, in Extension
        os_level = get_os_level()
      File &quot;C:\Users\Tanmay Daga\AppData\Local\Temp\pip-install-m5t3g9ui\pyobjc-framework-FSEvents\pyobjc_setup.py&quot;, line 218, in get_os_level
        pl = plistlib.readPlist(&quot;/System/Library/CoreServices/SystemVersion.plist&quot;)
      File &quot;c:\program files\python38-32\lib\plistlib.py&quot;, line 99, in readPlist
        with _maybe_open(pathOrFile, &#x27;rb&#x27;) as fp:
      File &quot;c:\program files\python38-32\lib\contextlib.py&quot;, line 113, in __enter__
        return next(self.gen)
      File &quot;c:\program files\python38-32\lib\plistlib.py&quot;, line 82, in _maybe_open
        with open(pathOrFile, mode) as fp:
    FileNotFoundError: [Errno 2] No such file or directory: &#x27;/System/Library/CoreServices/SystemVersion.plist&#x27;
    ----------------------------------------
ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.</pre>
                                </div>
                                
                                <button class="btn btn-danger btn-sm" type="button" data-toggle="collapse"
                                    data-target="#openReply566" aria-expanded="false"
                                    aria-controls="collapseExample" disabled>
                                    Add Reply </button>
    
                                <!-- replies are here -->
                                <div class="collapse" id="openReply566">
                                    <form action="/videos/postcomment" method="post"><input type="hidden" name="csrfmiddlewaretoken" value="bKvktRqKyhGCRCj3fNjkDrCxWlRj6ZqQuYD4AHSjU4i6WtexGAuJw0IETyL335nQ">
                                        <textarea type="text" class="form-control my-2" placeholder="Write a reply..."
                                            name="comment"></textarea>
                                        <input type="hidden" name="path" value="/videos/general-python-errors-1">
                                        <input type="hidden" name="videoSlug" value="general-python-errors-1">
                                        <input type="hidden" name="parent" value="566">
                                        <button class="btn btn-sm btn-danger" type="submit">Reply</button>
                                    </form>
                                </div>
                                <div class='commentReplies'> </div>
                            </div>
    
                        </div>
                        
                        
                    </div>
    
    
    
    
                </div>
                <div class="tab-pane fade mx-4 mt-3" id="resources" role="tabpanel" aria-labelledby="resources-tab">
                    <div class="container px-0">
    
                        <h4>Resources</h4>
                        
                        <p>No downloadable resources for this video. If you think you need anything, please post it
                            in the QnA!</p>
                        
                        <ol>
                            
                        </ol>
                    </div>
    
                <!-- </div>
                <div class="tab-pane fade mx-4 mt-3" id="announcements" role="tabpanel" aria-labelledby="announcements-tab">
                    <div class="container">
    
                        <h4>Course Announcements</h4>
                        <p>
                            Any Course related announcements will be posted here
                            
                            
                        </p>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
</div>
</div>

{% endblock body %}






{% comment %} JS start from here {% endcomment %}

{% block js %}

 <script>
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }
    let otpbtn = document.getElementById('otpbtn');
    if (otpbtn != undefined) {
      otpbtn.addEventListener('click', (e) => {
        otpbtn.innerText = 'Sending...';
        e.preventDefault();
        if (!otpbtn.classList.contains('disabled')) {
          otpbtn.classList.add('disabled');
          otpbtn.disabled = true;
          csrf_token = getCookie('csrftoken');
          let formData = new FormData();
          formData.append('email', document.getElementById('email').value);
          formData.append('csrfmiddlewaretoken', csrf_token);
          fetch('/utils/sendotp', {
            method: 'POST',
            body: formData
          })
            .then(response => response.text())
            .then(data => {
              console.log(data);
              if (data.startsWith("Error")) {
                otpMessage.classList.add('text-danger');
                otpbtn.innerText = 'Error';
              }
              else {
                otpMessage.classList.add('text-success');
                otpbtn.innerText = 'OTP Sent';
              }
              otpMessage.innerText = data;
            })
            .catch(error => {
              console.error(error)
            })
        }
        else {
          // Otp has already been sent
        }

      });
    }
  </script>
  
<script defer src="/static/js/playvideo.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.12/clipboard.min.js"></script>
<!-- Font Awesome JS -->
<!-- <script defer src="https://kit.fontawesome.com/433888fe69.js" crossorigin="anonymous"></script> -->

<!-- jQuery Custom Scroller CDN
<script
    src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script> -->
<!-- <script type="text/javascript">
    // Sidebar toggle
    $(document).ready(function () {
        $('#sidebarCollapse').add('#dismiss').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
    });
</script> -->

<script>
    function disableScrolling() {
        console.log("Disable scrolling");
        let x = window.scrollX;
        let y = window.scrollY;
        window.onscroll = function () { window.scrollTo(x, y); };
    }

    function enableScrolling() {
        console.log("Enable scrolling");
        window.onscroll = function () { };
    }

    // Add copy button
    // let pres = document.getElementsByTagName('pre');
    // Array.from(pres).forEach((element2) => {
    //     let element = document.createElement('button');
    //     element.setAttribute('class', 'btn btn-sm btn-danger');
    //     element.innerHTML = 'Copy';
    //     element.style.float = 'right';

    //     element.addEventListener('click', (e) => {
    //         e.preventDefault();
    //         disableScrolling();
    //         console.log(e)
    //         let x = window.screenX;
    //         let y = window.screenY;

    //         element.innerHTML = 'Copied!';
    //         let tarea = document.createElement('textarea');
    //         tarea.innerHTML = element.parentElement.children[1].innerText;
    //         document.body.append(tarea);
    //         tarea.focus();
    //         tarea.select();
    //         document.execCommand('copy');
    //         tarea.style.display = 'none';
    //         setTimeout(() => {
    //             element.innerHTML = 'Copy';
    //         }, 2000);
    //         setTimeout(() => {
    //             enableScrolling();
    //         }, 20);
    //     })
    //     element2.insertBefore(element, element2.children[0]);
    // })

</script>

<script>
    courseContainer = document.querySelector('#content-box');
    stickyD = document.getElementById('sticky-d')
    toggleCourse.addEventListener('click', () => {
        console.log('click');
        box = document.querySelector('#course-content-box');
        // Opening the container
        if (!box.classList.contains('openCourseHeight')) { 
            courseContainer.style.visibility = 'visible';
            box.classList.add('openCourseHeight');
            toggleCourse.classList.add('fa-minus');
            toggleCourse.classList.remove('fa-plus');
            stickyD.classList.remove('position-sticky')
            stickyD.classList.add('position-static')
            stickyD.scrollIntoView();
        }
        else {
            courseContainer.style.visibility = 'hidden';
            box.classList.remove('openCourseHeight');
            toggleCourse.classList.remove('fa-minus');
            toggleCourse.classList.add('fa-plus');
            stickyD.classList.remove('position-static')
            stickyD.classList.add('position-sticky')

        }
    })
</script>

<script>
    // Making all images inside main box responsive and adding border
    let mainVidBox = document.getElementById('video-box2')
    Array.from(mainVidBox.getElementsByTagName('img')).forEach((element, ind)=>{
        element.classList.add('img-fluid')
        element.classList.add('border');
        element.classList.add('border-dark'); 
        element.classList.add('rounded') 
    });

    // Hide/Show Player
    togglePlayer.addEventListener('click', ()=>{
        sd = document.getElementById("sticky-d");
        vbox = document.getElementById("video-box");
        if(window.screen.width > 768){
            if(sd.style.height == ""){
                sd.style.height = 0; 
                vbox.style.visibility = "hidden"; 
                sd.style.display = ""
                togglePlayer.innerText = "Show Player";
            }
            else{
                sd.style.height = ""; 
                vbox.style.visibility = "visible";
                togglePlayer.innerText = "Hide Player";
            }
        }
        // Write the mobile logic
        else{
            if (vbox.style.display != "none") {
                vbox.style.display = "none"; 
                togglePlayer.innerText = "Show Player";
            }
            else {
                vbox.style.display = "block"; 
                togglePlayer.innerText = "Hide Player";
            }
        }
        
    })

imgs = document.getElementsByTagName('img');
Array.from(imgs).forEach((element)=>{
    element.addEventListener('click', (e)=>{
        console.log("clicked", e.target.src);
        modalImage.src = e.target.src;
        $('#previewModal').modal('show')
    })
})

</script> 


{% endblock js %}